<p><code>core.convert</code> 패키지는 일반적인 타입 변환 시스템을 제공합니다. 시스템은 타입 변환 논리를 구현하기 위한 SPI와 런타임에 타입 변환을 수행하기 위한 API를 정의합니다. Spring 컨테이너 내에서 이 시스템을 <code>PropertyEditor</code> 구현의 대안으로 사용하여 외부화된 Bean 속성(property) 값 문자열을 필수 속성(required property) 타입으로 변환할 수 있습니다. 타입 변환이 필요한 애플리케이션의 어느 곳에서나 public API를 사용할 수도 있습니다.</p>
<h1 id="converter-spi">Converter SPI</h1>
<p>유형 변환 논리를 구현하는 SPI는 다음 인터페이스 정의에서 볼 수 있듯이 간단하고 강력한 타입입니다.</p>
<pre><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>core<span class="token punctuation">.</span>convert<span class="token punctuation">.</span>converter</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">S</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

	<span class="token class-name">T</span> <span class="token function">convert</span><span class="token punctuation">(</span><span class="token class-name">S</span> source<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>자신만의 변환기를 만들려면 <code>Converter</code> 인터페이스를 구현하고 <code>S</code>를 변환 대상 타입(from)으로 매개변수화하고 <code>T</code>를 변환 대상 타입(to)으로 매개변수화합니다. 위임 배열 또는 컬렉션 변환기도 등록된 경우(<code>DefaultConversionService</code>가 기본적으로 수행함) <code>S</code>의 컬렉션 또는 배열을 <code>T</code>의 배열 또는 컬렉션으로 변환해야 하는 경우 이러한 변환기를 투명하게(tranparently) 적용할 수도 있습니다.</p>
<p>각 <code>convert(S)</code> 호출에 대해 소스 인수는 <code>null</code>이 아니라는 것이 보장됩니다. 변환이 실패하면 <code>Converter</code>에서 확인되지 않은 예외(unchekced exception)가 발생할 수 있습니다. 특히 잘못된 소스 값을 보고하려면 <code>IllegalArgumentException</code>을 발생시켜야 합니다. <code>Converter</code> 구현이 스레드로부터 안전한지(thread-safe) 확인하세요.</p>
<p>편의를 위해 <code>core.convert.support</code> 패키지에는 여러 변환기 구현이 제공됩니다. 여기에는 문자열을 숫자 및 기타 일반적인 유형으로 변환하는 변환기가 포함됩니다. 다음 목록은 일반적인 <code>Converter</code> 구현인 <code>StringToInteger</code> 클래스를 보여줍니다.</p>
<pre><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>core<span class="token punctuation">.</span>convert<span class="token punctuation">.</span>support</span><span class="token punctuation">;</span>

<span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">StringToInteger</span> <span class="token keyword">implements</span> <span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

	<span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">convert</span><span class="token punctuation">(</span><span class="token class-name">String</span> source<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h1 id="using-converterfactory">Using <code>ConverterFactory</code></h1>
<p>전체 클래스 계층 구조에 대한 변환 논리를 중앙 집중화해야 하는 경우(예: <code>String</code>에서 <code>Enum</code> 객체로 변환하는 경우) 다음 예제와 같이 <code>ConverterFactory</code>를 구현할 수 있습니다.</p>
<pre><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>core<span class="token punctuation">.</span>convert<span class="token punctuation">.</span>converter</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ConverterFactory</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">S</span><span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

	<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">S</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">getConverter</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> targetType<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>S를 변환(from)하려는 유형으로 매개변수화하고 R을 변환(to)할 수 있는 클래스 범위를 정의하는 기본 타입으로 매개변수화합니다. 그런 다음 <code>getConverter(Class&lt;T&gt;)</code>를 구현합니다. 여기서 T는 R의 하위 클래스입니다.</p>
<p>예를 들어 <code>StringToEnumConverterFactory</code>를 고려해보세요.</p>
<pre><code class="language-java">  <span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>core<span class="token punctuation">.</span>convert<span class="token punctuation">.</span>support</span><span class="token punctuation">;</span>

<span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">StringToEnumConverterFactory</span> <span class="token keyword">implements</span> <span class="token class-name">ConverterFactory</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

	<span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Enum</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">getConverter</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> targetType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">StringToEnumConverter</span><span class="token punctuation">(</span>targetType<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">StringToEnumConverter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Enum</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

		<span class="token keyword">private</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> enumType<span class="token punctuation">;</span>

		<span class="token keyword">public</span> <span class="token class-name">StringToEnumConverter</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> enumType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>enumType <span class="token operator">=</span> enumType<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">public</span> <span class="token class-name">T</span> <span class="token function">convert</span><span class="token punctuation">(</span><span class="token class-name">String</span> source<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">)</span> <span class="token class-name">Enum</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>enumType<span class="token punctuation">,</span> source<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h1 id="using-genericconverter">Using <code>GenericConverter</code></h1>
<p>정교한 <code>Converter</code> 구현이 필요한 경우 <code>GenericConverter</code> 인터페이스 사용을 고려하세요. <code>Converter</code>보다 더 유연하지만 덜 강력한 타입의 시그니처를 사용하는 <code>GenericConverter</code>는 여러 소스 타입과 대상 타입 간의 변환을 지원합니다. 또한 <code>GenericConverter</code>는 변환 논리를 구현할 때 사용할 수 있는 소스 및 대상 필드 컨텍스트를 제공합니다. 이러한 컨텍스트를 사용하면 필드 어노테이션이나 필드 시그니처에 선언된 제네릭 정보를 통해 타입 변환을 수행할 수 있습니다. 다음 목록은 <code>GenericConverter</code>의 인터페이스 정의를 보여줍니다.</p>
<pre><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>core<span class="token punctuation">.</span>convert<span class="token punctuation">.</span>converter</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">GenericConverter</span> <span class="token punctuation">{</span>

	<span class="token keyword">public</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ConvertiblePair</span><span class="token punctuation">&gt;</span></span> <span class="token function">getConvertibleTypes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token class-name">Object</span> <span class="token function">convert</span><span class="token punctuation">(</span><span class="token class-name">Object</span> source<span class="token punctuation">,</span> <span class="token class-name">TypeDescriptor</span> sourceType<span class="token punctuation">,</span> <span class="token class-name">TypeDescriptor</span> targetType<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p><code>GenericConverter</code>를 구현하려면 <code>getConvertibleTypes()</code>가 지원되는 소스→대상 유형 쌍을 반환하도록 합니다. 그런 다음 변환 논리를 포함하도록 <code>convert(Object, TypeDescriptor, TypeDescriptor)</code>을 구현하십시오. 소스 <code>TypeDescriptor</code>는 변환되는(being converted) 값을 보유하는 소스 필드에 대한 액세스를 제공합니다. 대상 <code>TypeDescriptor</code>는 변환된 값이 설정될 대상 필드에 대한 액세스를 제공합니다.</p>
<p><code>GenericConverter</code>의 좋은 예는 Java 배열과 컬렉션 간을 변환하는 변환기입니다. 이러한 <code>ArrayToCollectionConverter</code>는 컬렉션의 요소 타입을 확인하기 위해 대상 컬렉션 타입을 선언하는 필드를 검사합니다. 이렇게 하면 컬렉션이 대상 필드에 설정(set)되기 전에 소스 배열의 각 요소를 컬렉션 요소 타입으로 변환할 수 있습니다.</p>
<blockquote>
<p><strong>[Note]</strong><br>
<code>GenericConverter</code>는 더 복잡한 SPI 인터페이스이므로 필요할 때만 사용해야 합니다. 기본(basic) 타입 변환이 필요한 경우 <code>Converter</code> 또는 <code>ConverterFactory</code>를 선호하세요.</p>
</blockquote>
<h2 id="using-conditionalgenericconverter">Using <code>ConditionalGenericConverter</code></h2>
<p>때로는 특정 조건이 true인 경우에만 <code>Converter</code>가 실행되기를 원할 수도 있습니다. 예를 들어 대상 필드에 특정 어노테이션이 있는 경우에만 <code>Converter</code>를 실행하거나 특정 메서드(예: <code>static valueOf</code> 메서드)가 대상 클래스에 정의된 경우에만 <code>Conveter</code>를 실행하려고 할 수 있습니다. <code>ConditionalGenericConverter</code>는 이러한 사용자 정의 일치(matching) 기준을 정의할 수 있는 <code>GenericConverter</code> 및 <code>ConditionalConverter</code> 인터페이스의 통합입니다.</p>
<pre><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ConditionalConverter</span> <span class="token punctuation">{</span>

	<span class="token keyword">boolean</span> <span class="token function">matches</span><span class="token punctuation">(</span><span class="token class-name">TypeDescriptor</span> sourceType<span class="token punctuation">,</span> <span class="token class-name">TypeDescriptor</span> targetType<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ConditionalGenericConverter</span> <span class="token keyword">extends</span> <span class="token class-name">GenericConverter</span><span class="token punctuation">,</span> <span class="token class-name">ConditionalConverter</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span></code></pre>
<p><code>ConditionalGenericConverter</code>의 좋은 예는 영구 엔터티 식별자와 엔터티 참조 간에 변환하는 <code>IdToEntityConverter</code>입니다. 이러한 <code>IdToEntityConverter</code>는 대상 엔터티 타입이 정적 찾기(finder) 메서드(예: <code>findAccount(Long)</code>)를 선언하는 경우에만 일치(match)할 수 있습니다. <code>matches(TypeDescriptor, TypeDescriptor)</code> 구현에서 이러한 finder 메서드 검사(check)를 수행할 수 있습니다.</p>
<h1 id="the-conversionservice-api">The <code>ConversionService</code> API</h1>
<p><code>ConversionService</code>는 런타임 시 타입 변환 논리를 실행하기 위한 통합 API를 정의합니다. 변환기는 종종 다음 파사드(facade) 인터페이스 뒤에서 실행됩니다:</p>
<pre><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>core<span class="token punctuation">.</span>convert</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ConversionService</span> <span class="token punctuation">{</span>

	<span class="token keyword">boolean</span> <span class="token function">canConvert</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> sourceType<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> targetType<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">T</span> <span class="token function">convert</span><span class="token punctuation">(</span><span class="token class-name">Object</span> source<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> targetType<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">boolean</span> <span class="token function">canConvert</span><span class="token punctuation">(</span><span class="token class-name">TypeDescriptor</span> sourceType<span class="token punctuation">,</span> <span class="token class-name">TypeDescriptor</span> targetType<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token class-name">Object</span> <span class="token function">convert</span><span class="token punctuation">(</span><span class="token class-name">Object</span> source<span class="token punctuation">,</span> <span class="token class-name">TypeDescriptor</span> sourceType<span class="token punctuation">,</span> <span class="token class-name">TypeDescriptor</span> targetType<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>대부분의 <code>ConversionService</code> 구현은 변환기 등록을 위한 SPI를 제공하는 <code>ConverterRegistry</code>도 구현합니다. 내부적으로 <code>ConversionService</code> 구현은 등록된 변환기에 타입 변환 논리를 수행하도록 위임합니다.</p>
<p>강력한 <code>ConversionService</code> 구현은 <code>core.convert.support</code> 패키지에 제공됩니다. <code>GenericConversionService</code>는 대부분의 환경에서 사용하기에 적합한 범용 구현입니다. <code>ConversionServiceFactory</code>는 공통 <code>ConversionService</code> 구성(configuration)을 생성하기 위한 편리한 팩토리를 제공합니다.</p>
<h1 id="configuring-a-conversionservice">Configuring a <code>ConversionService</code></h1>
<p><code>ConversionService</code>는 애플리케이션 시작 시 인스턴스화되고 여러 스레드 간에 공유되도록 설계된 상태 비저장(stateless) 객체입니다. Spring 애플리케이션에서는 일반적으로 각 Spring 컨테이너(또는 <code>ApplicationContext</code>)에 대해 <code>ConversionService</code> 인스턴스를 구성(configure)합니다. Spring은 해당 <code>ConversionService</code>를 선택하고 프레임워크에서 타입 변환을 수행해야 할 때마다 이를 사용합니다. 또한 이 <code>ConversionService</code>를 빈에 삽입하고 직접 호출할 수도 있습니다.</p>
<blockquote>
<p><strong>[Note]</strong><br>
Spring에 <code>ConversionService</code>가 등록되지 않은 경우 원래 <code>PropertyEditor</code> 기반 시스템이 사용됩니다. </p>
</blockquote>
<p>Spring에 기본 <code>ConversionService</code>를 등록하려면 <code>id</code>가 <code>conversionService</code>인 다음 Bean 정의를 추가하십시오.</p>
<pre><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>conversionService<span class="token punctuation">"</span></span>
	<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.springframework.context.support.ConversionServiceFactoryBean<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span></code></pre>
<p>기본 <code>ConversionService</code>는 문자열, 숫자, 열거형, 컬렉션, 맵 및 기타 일반 타입 간에 변환할 수 있습니다. 사용자 지정 변환기로 기본 변환기를 보완하거나 재정의하려면 <code>converters</code> 속성(property)을 설정합니다. 속성(property) 값은 <code>Converter</code>, <code>ConverterFactory</code> 또는 <code>GenericConverter</code> 인터페이스를 구현할 수 있습니다.</p>
<pre><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>conversionService<span class="token punctuation">"</span></span>
		<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.springframework.context.support.ConversionServiceFactoryBean<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>converters<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>example.MyCustomConverter<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span></code></pre>
<p>Spring MVC 애플리케이션 내에서 <code>ConversionService</code>를 사용하는 것도 일반적입니다. Spring MVC 장의 <a href="https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-config/conversion.html">변환 및 형식화</a>를 참조하세요.</p>
<p>특정 상황에서는 변환 중에 서식을 적용하고 싶을 수도 있습니다. <code>FormattingConversionServiceFactoryBean</code> 사용에 대한 자세한 내용은 <a href="https://docs.spring.io/spring-framework/reference/core/validation/format.html#format-FormatterRegistry-SPI"><code>FormatterRegistry</code> SPI</a>를 참조하세요.</p>
<h1 id="using-a-conversionservice-programmatically">Using a <code>ConversionService</code> Programmatically</h1>
<p><code>ConversionService</code> 인스턴스를 프로그래밍 방식으로 작업하려면, 다른 Bean에 대해 하는 것처럼 해당 인스턴스에 대한 참조를 삽입할 수 있습니다. 다음 예에서는 그 방법을 보여줍니다.</p>
<pre><code class="language-java"><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyService</span> <span class="token punctuation">{</span>

	<span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">ConversionService</span> conversionService<span class="token punctuation">;</span>

	<span class="token keyword">public</span> <span class="token class-name">MyService</span><span class="token punctuation">(</span><span class="token class-name">ConversionService</span> conversionService<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>conversionService <span class="token operator">=</span> conversionService<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doIt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>conversionService<span class="token punctuation">.</span><span class="token function">convert</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>대부분의 사용 사례에서는 <code>targetType</code>을 지정하는 <code>convert</code> 메서드를 사용할 수 있지만, 매개변수화된 요소 컬렉션과 같은 더 복잡한 타입에서는 작동하지 않습니다. 예를 들어, 프로그래밍 방식으로 <code>Integer</code> <code>List</code>을 <code>String</code> <code>List</code>으로 변환하려면 소스 및 대상 타입에 대한 공식적인 정의를 제공해야 합니다.</p>
<p>다행히 <code>TypeDescriptor</code>는 다음 예제와 같이 이를 간단하게 수행할 수 있는 다양한 옵션을 제공합니다.</p>
<pre><code class="language-java"><span class="token class-name">DefaultConversionService</span> cs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DefaultConversionService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> input <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
cs<span class="token punctuation">.</span><span class="token function">convert</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span>
	<span class="token class-name">TypeDescriptor</span><span class="token punctuation">.</span><span class="token function">forObject</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// List&lt;Integer&gt; type descriptor</span>
	<span class="token class-name">TypeDescriptor</span><span class="token punctuation">.</span><span class="token function">collection</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">TypeDescriptor</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><code>DefaultConversionService</code>는 대부분의 환경에 적합한 변환기를 자동으로 등록합니다. 여기에는 컬렉션 변환기, 스칼라 변환기 및 기본 <code>Object</code>-<code>String</code> 변환기가 포함됩니다. <code>DefaultConversionService</code> 클래스의 정적 <code>addDefaultConverters</code> 메소드를 사용하여 <code>ConverterRegistry</code>에 동일한 변환기를 등록할 수 있습니다.</p>
<p>값 타입에 대한 변환기는 배열 및 컬렉션에 재사용되므로, 표준 컬렉션 처리가 적절하다고 가정하면 <code>S</code> <code>Collection</code>에서 <code>T</code> <code>Collection</code>으로 변환하기 위해 특정 변환기를 만들 필요가 없습니다.</p>