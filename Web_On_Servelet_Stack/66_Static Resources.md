<p><a href="https://docs.spring.io/spring-framework/reference/web/webflux/config.html#webflux-config-static-resources">반응형 스택에서 이에 상응하는 내용 보기</a></p>
<p>이 옵션은 <a href="https://docs.spring.io/spring-framework/docs/6.1.6/javadoc-api/org/springframework/core/io/Resource.html"><code>Resource</code></a> 기반 위치 목록에서 정적 리소스를 제공하는 편리한 방법을 제공합니다.</p>
<p>다음 예에서는 <code>/resources</code>로 시작하는 요청이 있을 경우 상대 경로를 사용하여 웹 애플리케이션 루트 아래 또는 <code>/static</code> 아래의 classpath에서 <code>/public</code>을 기준으로 하는 정적 리소스를 찾고 제공합니다. 브라우저 캐시를 최대한 활용하고 브라우저의 HTTP 요청을 줄이기 위해 리소스는 1년의 향후 만료 기간으로 제공됩니다. <code>Last-Modified</code> 정보는 <code>Resource#lastModified</code>에서 추론되므로 HTTP 조건부 요청은 <code>"Last-Modified"</code> 헤더로 지원됩니다.</p>
<p>다음 목록은 Java 구성을 사용하여 이를 수행하는 방법을 보여줍니다.</p>
<pre><code class="language-java"><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@EnableWebMvc</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebConfig</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addResourceHandlers</span><span class="token punctuation">(</span><span class="token class-name">ResourceHandlerRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		registry<span class="token punctuation">.</span><span class="token function">addResourceHandler</span><span class="token punctuation">(</span><span class="token string">"/resources/**"</span><span class="token punctuation">)</span>
				<span class="token punctuation">.</span><span class="token function">addResourceLocations</span><span class="token punctuation">(</span><span class="token string">"/public"</span><span class="token punctuation">,</span> <span class="token string">"classpath:/static/"</span><span class="token punctuation">)</span>
				<span class="token punctuation">.</span><span class="token function">setCacheControl</span><span class="token punctuation">(</span><span class="token class-name">CacheControl</span><span class="token punctuation">.</span><span class="token function">maxAge</span><span class="token punctuation">(</span><span class="token class-name">Duration</span><span class="token punctuation">.</span><span class="token function">ofDays</span><span class="token punctuation">(</span><span class="token number">365</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>다음 예에서는 XML에서 동일한 구성을 달성하는 방법을 보여줍니다.</p>
<pre><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>resources</span> <span class="token attr-name">mapping</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/resources/**<span class="token punctuation">"</span></span>
	<span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/public, classpath:/static/<span class="token punctuation">"</span></span>
	<span class="token attr-name">cache-period</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>31556926<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span></code></pre>
<p><a href="https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-caching.html#mvc-caching-static-resources">정적 리소스에 대한 HTTP 캐싱 지원</a>도 참조하세요.</p>
<p>리소스 핸들러는 또한 최적화된 리소스 작업을 위한 도구 체인을 생성하는 데 사용할 수 있는 <a href="https://docs.spring.io/spring-framework/docs/6.1.6/javadoc-api/org/springframework/web/servlet/resource/ResourceResolver.html"><code>ResourceResolver</code></a> 구현 및 <a href="https://docs.spring.io/spring-framework/docs/6.1.6/javadoc-api/org/springframework/web/servlet/resource/ResourceTransformer.html"><code>ResourceTransformer</code></a> 구현 체인을 지원합니다.</p>
<p>콘텐츠, 고정된 애플리케이션 버전 등에서 계산된 MD5 해시를 기반으로 버전이 지정된 리소스 URL에 <code>VersionResourceResolver</code>를 사용할 수 있습니다. <code>ContentVersionStrategy</code>(MD5 해시)는 모듈 로더와 함께 사용되는 JavaScript 리소스와 같은 몇 가지 주목할만한 예외를 제외하고는 좋은 선택입니다.</p>
<p>다음 예에서는 Java 구성에서 <code>VersionResourceResolver</code>를 사용하는 방법을 보여줍니다.</p>
<pre><code class="language-java"><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@EnableWebMvc</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebConfig</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addResourceHandlers</span><span class="token punctuation">(</span><span class="token class-name">ResourceHandlerRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		registry<span class="token punctuation">.</span><span class="token function">addResourceHandler</span><span class="token punctuation">(</span><span class="token string">"/resources/**"</span><span class="token punctuation">)</span>
				<span class="token punctuation">.</span><span class="token function">addResourceLocations</span><span class="token punctuation">(</span><span class="token string">"/public/"</span><span class="token punctuation">)</span>
				<span class="token punctuation">.</span><span class="token function">resourceChain</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
				<span class="token punctuation">.</span><span class="token function">addResolver</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">VersionResourceResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addContentVersionStrategy</span><span class="token punctuation">(</span><span class="token string">"/**"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>다음 예에서는 XML에서 동일한 구성을 달성하는 방법을 보여줍니다.</p>
<pre><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>resources</span> <span class="token attr-name">mapping</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/resources/**<span class="token punctuation">"</span></span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/public/<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>resource-chain</span> <span class="token attr-name">resource-cache</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>resolvers</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>version-resolver</span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>content-version-strategy</span> <span class="token attr-name">patterns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/**<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>version-resolver</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>resolvers</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>resource-chain</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>resources</span><span class="token punctuation">&gt;</span></span></code></pre>
<p>그런 다음 <code>ResourceUrlProvider</code>를 사용하여 URL을 다시 작성하고 resolver 및 transformer의 전체 체인을 적용할 수 있습니다. 예를 들어 버전을 삽입할 수 있습니다. MVC 구성은 다른 항목에 주입될 수 있도록 <code>ResourceUrlProvider</code> Bean을 제공합니다. 또한 Thymeleaf, JSP, FreeMarker 및 <code>HttpServletResponse#encodeURL</code>에 의존하는 URL 태그가 있는 기타 항목에 대한 <code>ResourceUrlEncodingFilter</code>를 사용하여 재작성을 투명하게 만들 수 있습니다.</p>
<p><code>EncodedResourceResolver</code>(예: gzipped 또는 brotli로 인코딩된 리소스 제공용)와 <code>VersionResourceResolver</code>를 모두 사용하는 경우 이 순서대로 등록해야 합니다. 이는 인코딩되지 않은 파일을 기반으로 콘텐츠 기반 버전이 항상 안정적으로 계산되도록 보장합니다.</p>
<p><a href="https://www.webjars.org/documentation">WebJars</a>의 경우 <code>/webjars/jquery/1.2.0/jquery.min.js</code>와 같은 버전이 있는 URL이 권장되며 이를 사용하는 가장 효율적인 방법입니다. 관련 리소스 위치는 Spring Boot를 사용하여 즉시 구성되며(또는 <code>ResourceHandlerRegistry</code>를 통해 수동으로 구성할 수 있음) <code>org.webjars:webjars-locator-core</code> 종속성을 추가할 필요가 없습니다.</p>
<p><code>/webjars/jquery/jquery.min.js</code>와 같은 버전 없는 URL은 <code>org.webjars:webjars-locator-core</code> 라이브러리가 classpath에 있을 때 자동으로 등록되는 <code>WebJarsResourceResolver</code>를 통해 지원됩니다. 자동으로 등록 되는 대신 애플리케이션 시작 속도가 느려질 수 있습니다. resolver는 jar 버전을 포함하도록 URL을 다시 작성할 수 있으며 버전 없이 들어오는 URL과 일치시킬 수도 있습니다. 예를 들어 <code>/webjars/jquery/jquery.min.js</code>에서 <code>/webjars/jquery/1.2.0/jquery.min.js.</code>로. </p>
<blockquote>
<p><strong>[Tip]</strong><br>
<code>ResourceHandlerRegistry</code>를 기반으로 하는 Java 구성은 세밀한 제어를 위한 추가 옵션을 제공합니다. 예를 들어, 마지막으로 수정된(last-modified) 동작 및 최적화된 리소스 resolution.</p>
</blockquote>