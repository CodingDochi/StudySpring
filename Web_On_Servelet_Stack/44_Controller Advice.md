<p><a href="https://docs.spring.io/spring-framework/reference/web/webflux/controller/ann-advice.html">반응형 스택에서 이에 상응하는 내용 보기</a></p>
<p><code>@ExceptionHandler</code>, <code>@InitBinder</code> 및 <code>@ModelAttribute</code> 메서드는 해당 메서드가 선언된 <code>@Controller</code> 클래스 또는 클래스 계층 구조에만 적용됩니다. 대신 <code>@ControllerAdvice</code> 또는 <code>@RestControllerAdvice</code> 클래스에서 선언되면 모든 컨트롤러에 적용됩니다. 또한 5.3부터 <code>@ControllerAdvice</code>의 <code>@ExceptionHandler</code> 메서드를 사용하여 <code>@Controller</code> 또는 다른 핸들러의 예외를 처리할 수 있습니다.</p>
<p><code>@ControllerAdvice</code>는 <code>@Component</code>로 메타 annotation을 달기 때문에 <a href="https://docs.spring.io/spring-framework/reference/core/beans/java/instantiating-container.html#beans-java-instantiating-container-scan">컴포넌트 스캐닝</a>을 통해 Spring 빈으로 등록할 수 있습니다. <code>@RestControllerAdvice</code>는 <code>@ControllerAdvice</code> 및 <code>@ResponseBody</code>로 메타 annotation이 달려 있으며 이는 <code>@ExceptionHandler</code> 메서드가 HTML 뷰가 아닌 응답 본문 메시지 변환을 통해 반환 값을 렌더링한다는 것을 의미합니다.</p>
<p>시작 시 <code>RequestMappingHandlerMapping</code> 및 E<code>xceptionHandlerExceptionResolver</code>는 컨트롤러 advice 빈을 감지하고 이를 런타임에 적용합니다. <code>@ControllerAdvice</code>의 전역 <code>@ExceptionHandler</code> 메서드는 <code>@Controller</code>의 로컬 메서드 다음에 적용됩니다. 대조적으로 전역 <code>@ModelAttribute</code> 및 <code>@InitBinder</code> 메소드는 로컬 메소드보다 먼저 적용됩니다.</p>
<p><code>@ControllerAdvice</code> annotation에는 적용되는 컨트롤러 및 핸들러 세트의 범위를 좁힐 수 있는 속성이 있습니다. 예를 들어:</p>
<pre><code class="language-java"><span class="token comment">// Target all Controllers annotated with @RestController</span>
<span class="token annotation punctuation">@ControllerAdvice</span><span class="token punctuation">(</span>annotations <span class="token operator">=</span> <span class="token class-name">RestController</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ExampleAdvice1</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// Target all Controllers within specific packages</span>
<span class="token annotation punctuation">@ControllerAdvice</span><span class="token punctuation">(</span><span class="token string">"org.example.controllers"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ExampleAdvice2</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// Target all Controllers assignable to specific classes</span>
<span class="token annotation punctuation">@ControllerAdvice</span><span class="token punctuation">(</span>assignableTypes <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token class-name">ControllerInterface</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">AbstractController</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ExampleAdvice3</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre>
<p>이전 예제의 선택기는 런타임 시 평가되며 광범위하게 사용될 경우 성능에 부정적인 영향을 미칠 수 있습니다. 자세한 내용은 <a href="https://docs.spring.io/spring-framework/docs/6.1.6/javadoc-api/org/springframework/web/bind/annotation/ControllerAdvice.html"><code>@ControllerAdvice</code></a> javadoc을 참조하세요.</p>